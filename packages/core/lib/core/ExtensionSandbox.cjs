"use strict";var e=Object.defineProperty,r=(r,t,i)=>(((r,t,i)=>{t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i})(r,t+"",i),i);exports.ExtensionSandbox=class{constructor(){r(this,"iframe",null)}createSandbox(){return this.iframe=document.createElement("iframe"),this.iframe.style.display="none",this.iframe.sandbox.add("allow-scripts"),document.body.appendChild(this.iframe),this.iframe}async executeInSandbox(e){if(!this.iframe||!this.iframe.contentWindow)throw new Error("Sandbox not initialized");return new Promise((r,t)=>{const i=e=>{e.source===this.iframe?.contentWindow&&(window.removeEventListener("message",i),e.data.error?t(new Error(e.data.error)):r(e.data.result))};window.addEventListener("message",i),this.iframe.contentWindow.postMessage({code:e},"*")})}destroy(){this.iframe&&(this.iframe.remove(),this.iframe=null)}};
//# sourceMappingURL=ExtensionSandbox.cjs.map
