"use strict";var e,t=Object.defineProperty,i=(e,i,s)=>(((e,i,s)=>{i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s})(e,"symbol"!=typeof i?i+"":i,s),s),s=((e=s||{}).Creating="creating",e.Initializing="initializing",e.Ready="ready",e.Updating="updating",e.Disposing="disposing",e.Disposed="disposed",e);exports.EditorLifecycle=class{constructor(e){i(this,"phase","creating"),i(this,"hooks",{}),i(this,"eventListeners",new Map),i(this,"editor",null),e&&(this.hooks=e)}getPhase(){return this.phase}setEditor(e){this.editor=e}getEditor(){return this.editor}on(e,t){return this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t),()=>{this.eventListeners.get(e)?.delete(t)}}async triggerHook(e,t){const i=this.hooks[e];i&&await i();const s=this.eventListeners.get(t);if(s)for(const e of s)await e()}async beforeCreate(){this.phase="creating",await this.triggerHook("beforeCreate","creating")}async created(){await this.triggerHook("created","creating")}async beforeMount(){this.phase="initializing",await this.triggerHook("beforeMount","initializing")}async mounted(){this.phase="ready",await this.triggerHook("mounted","ready")}async beforeUpdate(){this.phase="updating",await this.triggerHook("beforeUpdate","updating")}async updated(){this.phase="ready",await this.triggerHook("updated","ready")}async beforeDispose(){this.phase="disposing",await this.triggerHook("beforeDispose","disposing")}async disposed(){this.phase="disposed",await this.triggerHook("disposed","disposed"),this.eventListeners.clear(),this.editor=null}is(e){return this.phase===e}isReady(){return"ready"===this.phase}isDisposed(){return"disposed"===this.phase}},exports.LifecycleDecorator=function(e){return function(t,i,s){const a=s.value;return s.value=async function(...t){return this.lifecycle&&this.lifecycle.is(e),await a.apply(this,t)},s}},exports.LifecyclePhase=s;
//# sourceMappingURL=EditorLifecycle.cjs.map
