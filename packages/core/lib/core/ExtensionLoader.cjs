"use strict";var e=Object.defineProperty,t=(t,n,s)=>(((t,n,s)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s})(t,"symbol"!=typeof n?n+"":n,s),s);class n{constructor(){t(this,"extensions",new Map),t(this,"activeExtensions",new Set)}async loadExtension(e){const t={id:`${e.name}@${e.version}`,name:e.name,version:e.version,main:e.main||e.browser||"",contributes:e.contributes};return this.extensions.set(t.id,t),t}async activateExtension(e){const t=this.extensions.get(e);if(!t)throw new Error(`Extension not found: ${e}`);this.activeExtensions.has(e)||(this.createContext(t),t.main,this.activeExtensions.add(e))}deactivateExtension(e){this.activeExtensions.delete(e)}getExtensions(){return Array.from(this.extensions.values())}getActiveExtensions(){return this.getExtensions().filter(e=>this.activeExtensions.has(e.id))}createContext(e){return{subscriptions:[],extensionPath:`/extensions/${e.id}`,globalState:new Map,workspaceState:new Map}}}const s=new n;exports.ExtensionLoader=n,exports.extensionLoader=s;
//# sourceMappingURL=ExtensionLoader.cjs.map
