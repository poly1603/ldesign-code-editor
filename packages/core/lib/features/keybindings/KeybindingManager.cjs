"use strict";var e=Object.defineProperty,t=(t,i,s)=>(((t,i,s)=>{i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s})(t,"symbol"!=typeof i?i+"":i,s),s);exports.KeybindingManager=class{constructor(){t(this,"keybindings",new Map),t(this,"editor",null)}setEditor(e){this.editor=e}registerKeybinding(e){if(this.keybindings.set(e.id,e),this.editor){const t=this.parseKeyString(e.key);this.editor.addCommand(t,()=>{this.executeCommand(e.command,e.args)})}}unregisterKeybinding(e){return this.keybindings.delete(e)}getKeybindings(){return Array.from(this.keybindings.values())}detectConflicts(){const e=new Map;this.keybindings.forEach(t=>{e.has(t.key)||e.set(t.key,[]),e.get(t.key).push(t)});const t=[];return e.forEach((e,i)=>{e.length>1&&t.push({key:i,bindings:e})}),t}parseKeyString(e){const t=globalThis.monaco;if(!t)return 0;const i=e.toLowerCase().split("+");let s=0;return i.forEach(e=>{switch(e.trim()){case"ctrl":case"cmd":s|=t.KeyMod.CtrlCmd;break;case"shift":s|=t.KeyMod.Shift;break;case"alt":s|=t.KeyMod.Alt}}),s}executeCommand(e,t){this.editor?.trigger("keyboard",e,t)}};
//# sourceMappingURL=KeybindingManager.cjs.map
