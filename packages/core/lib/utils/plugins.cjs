"use strict";var e=require("monaco-editor"),t=require("./emmet.cjs"),n=require("./languages.cjs"),a=require("./workers.cjs");var i,s,r=(i=e,s=Object.create(null),i&&Object.keys(i).forEach(function(e){if("default"!==e){var t=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(s,e,t.get?t:{enumerable:!0,get:function(){return i[e]}})}}),s.default=i,Object.freeze(s)),l=Object.defineProperty,o=(e,t,n)=>(((e,t,n)=>{t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const u=class e{constructor(){o(this,"loadedPlugins",new Set)}static getInstance(){return e.instance||(e.instance=new e),e.instance}async loadPlugin(e,t={}){if(!this.loadedPlugins.has(e)){switch(e){case"emmet":await this.loadEmmetPlugin();break;case"vue":await this.loadVuePlugin();break;case"react":await this.loadReactPlugin();break;case"typescript":await this.loadTypeScriptPlugin()}this.loadedPlugins.add(e)}}async loadPlugins(e,t={}){const n=e.map(e=>this.loadPlugin(e,t));await Promise.all(n)}async loadByConfig(e){const t=[];e.emmet&&t.push("emmet"),e.snippets,await this.loadPlugins(t,e)}isPluginLoaded(e){return this.loadedPlugins.has(e)}async loadEmmetPlugin(){t.registerEmmetProvider(),t.configureEmmet()}async loadVuePlugin(){n.registerVueLanguage(),await n.addVueTypes(),t.registerEmmetForCustomLanguages(["vue"])}async loadReactPlugin(){n.registerReactLanguage(),await n.addReactTypes(),t.registerEmmetForCustomLanguages(["typescriptreact","javascriptreact"])}async loadTypeScriptPlugin(){a.setupTypeScriptDefaults(),a.setupJavaScriptDefaults()}};o(u,"instance");let m=u;exports.PluginManager=m,exports.registerCommonSnippets=function(){r.languages.registerCompletionItemProvider("javascript",{provideCompletionItems:(e,t)=>{const n=e.getWordUntilPosition(t),a={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:n.startColumn,endColumn:n.endColumn};return{suggestions:[{label:"log",kind:r.languages.CompletionItemKind.Snippet,insertText:"console.log(${1:value});",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"输出到控制台",range:a},{label:"func",kind:r.languages.CompletionItemKind.Snippet,insertText:"function ${1:name}(${2:params}) {\n\t${0}\n}",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"创建函数",range:a},{label:"arrow",kind:r.languages.CompletionItemKind.Snippet,insertText:"const ${1:name} = (${2:params}) => {\n\t${0}\n}",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"创建箭头函数",range:a},{label:"foreach",kind:r.languages.CompletionItemKind.Snippet,insertText:"${1:array}.forEach((${2:item}) => {\n\t${0}\n});",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"forEach 循环",range:a},{label:"map",kind:r.languages.CompletionItemKind.Snippet,insertText:"${1:array}.map((${2:item}) => ${0})",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"map 映射",range:a},{label:"filter",kind:r.languages.CompletionItemKind.Snippet,insertText:"${1:array}.filter((${2:item}) => ${0})",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"filter 过滤",range:a},{label:"reduce",kind:r.languages.CompletionItemKind.Snippet,insertText:"${1:array}.reduce((${2:acc}, ${3:item}) => {\n\t${0}\n}, ${4:initial})",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"reduce 归约",range:a},{label:"promise",kind:r.languages.CompletionItemKind.Snippet,insertText:"new Promise((resolve, reject) => {\n\t${0}\n})",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"创建 Promise",range:a},{label:"async",kind:r.languages.CompletionItemKind.Snippet,insertText:"async function ${1:name}(${2:params}) {\n\t${0}\n}",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"创建异步函数",range:a},{label:"try",kind:r.languages.CompletionItemKind.Snippet,insertText:"try {\n\t${1}\n} catch (error) {\n\t${0}\n}",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"try-catch 错误处理",range:a}]}}}),r.languages.registerCompletionItemProvider("typescript",{provideCompletionItems:(e,t)=>{const n=e.getWordUntilPosition(t),a={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:n.startColumn,endColumn:n.endColumn};return{suggestions:[{label:"interface",kind:r.languages.CompletionItemKind.Snippet,insertText:"interface ${1:Name} {\n\t${0}\n}",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"创建接口",range:a},{label:"type",kind:r.languages.CompletionItemKind.Snippet,insertText:"type ${1:Name} = ${0}",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"创建类型别名",range:a},{label:"class",kind:r.languages.CompletionItemKind.Snippet,insertText:"class ${1:Name} {\n\tconstructor(${2:params}) {\n\t\t${0}\n\t}\n}",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"创建类",range:a},{label:"enum",kind:r.languages.CompletionItemKind.Snippet,insertText:"enum ${1:Name} {\n\t${0}\n}",insertTextRules:r.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"创建枚举",range:a}]}}})};
//# sourceMappingURL=plugins.cjs.map
