{"version":3,"file":"themes.cjs","sources":["../../src/utils/themes.ts"],"sourcesContent":["/**\r\n * Monaco Editor Theme Manager\r\n * 提供多种预定义主题和自定义主题功能\r\n */\r\n\r\nimport * as monaco from 'monaco-editor'\r\n\r\n/**\r\n * 预定义主题列表\r\n */\r\nexport const PREDEFINED_THEMES = {\r\n  // 内置主题\r\n  'vs': 'Visual Studio',\r\n  'vs-dark': 'Visual Studio Dark',\r\n  'hc-black': 'High Contrast Black',\r\n  'hc-light': 'High Contrast Light',\r\n  \r\n  // 自定义主题\r\n  'github-light': 'GitHub Light',\r\n  'github-dark': 'GitHub Dark',\r\n  'monokai': 'Monokai',\r\n  'dracula': 'Dracula',\r\n  'one-dark': 'One Dark',\r\n  'one-light': 'One Light',\r\n  'nord': 'Nord',\r\n  'solarized-light': 'Solarized Light',\r\n  'solarized-dark': 'Solarized Dark',\r\n  'material': 'Material',\r\n  'material-darker': 'Material Darker',\r\n  'material-palenight': 'Material Palenight',\r\n  'synthwave': 'Synthwave 84',\r\n  'tokyo-night': 'Tokyo Night',\r\n  'ayu-light': 'Ayu Light',\r\n  'ayu-dark': 'Ayu Dark'\r\n}\r\n\r\n/**\r\n * GitHub Light 主题\r\n */\r\nexport const GitHubLightTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '6A737D' },\r\n    { token: 'string', foreground: '032F62' },\r\n    { token: 'keyword', foreground: 'D73A49' },\r\n    { token: 'number', foreground: '005CC5' },\r\n    { token: 'type', foreground: 'D73A49' },\r\n    { token: 'class', foreground: '6F42C1' },\r\n    { token: 'function', foreground: '6F42C1' },\r\n    { token: 'variable', foreground: 'E36209' },\r\n    { token: 'variable.predefined', foreground: '005CC5' },\r\n    { token: 'constant', foreground: '005CC5' },\r\n    { token: 'tag', foreground: '22863A' },\r\n    { token: 'attribute.name', foreground: '6F42C1' },\r\n    { token: 'attribute.value', foreground: '032F62' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#FFFFFF',\r\n    'editor.foreground': '#24292E',\r\n    'editor.lineHighlightBackground': '#F6F8FA',\r\n    'editor.selectionBackground': '#0366D625',\r\n    'editorCursor.foreground': '#24292E',\r\n    'editorWhitespace.foreground': '#D1D5DA',\r\n    'editorIndentGuide.background': '#D1D5DA',\r\n    'editorIndentGuide.activeBackground': '#959DA5',\r\n  }\r\n}\r\n\r\n/**\r\n * GitHub Dark 主题\r\n */\r\nexport const GitHubDarkTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '8B949E' },\r\n    { token: 'string', foreground: 'A5D6FF' },\r\n    { token: 'keyword', foreground: 'FF7B72' },\r\n    { token: 'number', foreground: '79C0FF' },\r\n    { token: 'type', foreground: 'FF7B72' },\r\n    { token: 'class', foreground: 'FFA657' },\r\n    { token: 'function', foreground: 'D2A8FF' },\r\n    { token: 'variable', foreground: 'FFA657' },\r\n    { token: 'variable.predefined', foreground: '79C0FF' },\r\n    { token: 'constant', foreground: '79C0FF' },\r\n    { token: 'tag', foreground: '7EE787' },\r\n    { token: 'attribute.name', foreground: '79C0FF' },\r\n    { token: 'attribute.value', foreground: 'A5D6FF' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#0D1117',\r\n    'editor.foreground': '#C9D1D9',\r\n    'editor.lineHighlightBackground': '#161B22',\r\n    'editor.selectionBackground': '#3392FF44',\r\n    'editorCursor.foreground': '#58A6FF',\r\n    'editorWhitespace.foreground': '#484F58',\r\n    'editorIndentGuide.background': '#21262D',\r\n    'editorIndentGuide.activeBackground': '#484F58',\r\n  }\r\n}\r\n\r\n/**\r\n * Monokai 主题\r\n */\r\nexport const MonokaiTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '88846F' },\r\n    { token: 'string', foreground: 'E6DB74' },\r\n    { token: 'keyword', foreground: 'F92672' },\r\n    { token: 'number', foreground: 'AE81FF' },\r\n    { token: 'type', foreground: '66D9EF', fontStyle: 'italic' },\r\n    { token: 'class', foreground: 'A6E22E' },\r\n    { token: 'function', foreground: 'A6E22E' },\r\n    { token: 'variable', foreground: 'F8F8F2' },\r\n    { token: 'variable.predefined', foreground: 'AE81FF' },\r\n    { token: 'constant', foreground: 'AE81FF' },\r\n    { token: 'tag', foreground: 'F92672' },\r\n    { token: 'attribute.name', foreground: 'A6E22E' },\r\n    { token: 'attribute.value', foreground: 'E6DB74' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#272822',\r\n    'editor.foreground': '#F8F8F2',\r\n    'editor.lineHighlightBackground': '#3E3D32',\r\n    'editor.selectionBackground': '#49483E',\r\n    'editorCursor.foreground': '#F8F8F0',\r\n    'editorWhitespace.foreground': '#464741',\r\n    'editorIndentGuide.background': '#464741',\r\n    'editorIndentGuide.activeBackground': '#767771',\r\n  }\r\n}\r\n\r\n/**\r\n * Dracula 主题\r\n */\r\nexport const DraculaTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '6272A4' },\r\n    { token: 'string', foreground: 'F1FA8C' },\r\n    { token: 'keyword', foreground: 'FF79C6' },\r\n    { token: 'number', foreground: 'BD93F9' },\r\n    { token: 'type', foreground: '8BE9FD', fontStyle: 'italic' },\r\n    { token: 'class', foreground: '50FA7B' },\r\n    { token: 'function', foreground: '50FA7B' },\r\n    { token: 'variable', foreground: 'F8F8F2' },\r\n    { token: 'variable.predefined', foreground: '8BE9FD' },\r\n    { token: 'constant', foreground: 'BD93F9' },\r\n    { token: 'tag', foreground: 'FF79C6' },\r\n    { token: 'attribute.name', foreground: '50FA7B' },\r\n    { token: 'attribute.value', foreground: 'F1FA8C' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#282A36',\r\n    'editor.foreground': '#F8F8F2',\r\n    'editor.lineHighlightBackground': '#44475A',\r\n    'editor.selectionBackground': '#44475A',\r\n    'editorCursor.foreground': '#F8F8F0',\r\n    'editorWhitespace.foreground': '#44475A',\r\n    'editorIndentGuide.background': '#44475A',\r\n    'editorIndentGuide.activeBackground': '#6272A4',\r\n  }\r\n}\r\n\r\n/**\r\n * One Dark 主题\r\n */\r\nexport const OneDarkTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '5C6370' },\r\n    { token: 'string', foreground: '98C379' },\r\n    { token: 'keyword', foreground: 'C678DD' },\r\n    { token: 'number', foreground: 'D19A66' },\r\n    { token: 'type', foreground: 'E06C75' },\r\n    { token: 'class', foreground: 'E5C07B' },\r\n    { token: 'function', foreground: '61AFEF' },\r\n    { token: 'variable', foreground: 'E06C75' },\r\n    { token: 'variable.predefined', foreground: 'D19A66' },\r\n    { token: 'constant', foreground: 'D19A66' },\r\n    { token: 'tag', foreground: 'E06C75' },\r\n    { token: 'attribute.name', foreground: 'D19A66' },\r\n    { token: 'attribute.value', foreground: '98C379' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#282C34',\r\n    'editor.foreground': '#ABB2BF',\r\n    'editor.lineHighlightBackground': '#2C313C',\r\n    'editor.selectionBackground': '#3E4451',\r\n    'editorCursor.foreground': '#528BFF',\r\n    'editorWhitespace.foreground': '#3B4048',\r\n    'editorIndentGuide.background': '#3B4048',\r\n    'editorIndentGuide.activeBackground': '#545862',\r\n  }\r\n}\r\n\r\n/**\r\n * Nord 主题\r\n */\r\nexport const NordTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '616E88' },\r\n    { token: 'string', foreground: 'A3BE8C' },\r\n    { token: 'keyword', foreground: '81A1C1' },\r\n    { token: 'number', foreground: 'B48EAD' },\r\n    { token: 'type', foreground: '8FBCBB' },\r\n    { token: 'class', foreground: 'EBCB8B' },\r\n    { token: 'function', foreground: '88C0D0' },\r\n    { token: 'variable', foreground: 'D8DEE9' },\r\n    { token: 'variable.predefined', foreground: 'D8DEE9' },\r\n    { token: 'constant', foreground: 'D8DEE9' },\r\n    { token: 'tag', foreground: '81A1C1' },\r\n    { token: 'attribute.name', foreground: '8FBCBB' },\r\n    { token: 'attribute.value', foreground: 'A3BE8C' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#2E3440',\r\n    'editor.foreground': '#D8DEE9',\r\n    'editor.lineHighlightBackground': '#3B4252',\r\n    'editor.selectionBackground': '#434C5E',\r\n    'editorCursor.foreground': '#D8DEE9',\r\n    'editorWhitespace.foreground': '#4C566A',\r\n    'editorIndentGuide.background': '#434C5E',\r\n    'editorIndentGuide.activeBackground': '#4C566A',\r\n  }\r\n}\r\n\r\n/**\r\n * Material 主题\r\n */\r\nexport const MaterialTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '546E7A' },\r\n    { token: 'string', foreground: 'C3E88D' },\r\n    { token: 'keyword', foreground: 'C792EA' },\r\n    { token: 'number', foreground: 'F78C6C' },\r\n    { token: 'type', foreground: 'FFCB6B' },\r\n    { token: 'class', foreground: 'FFCB6B' },\r\n    { token: 'function', foreground: '82AAFF' },\r\n    { token: 'variable', foreground: 'EEFFFF' },\r\n    { token: 'variable.predefined', foreground: 'F07178' },\r\n    { token: 'constant', foreground: 'F78C6C' },\r\n    { token: 'tag', foreground: 'FF5370' },\r\n    { token: 'attribute.name', foreground: 'C792EA' },\r\n    { token: 'attribute.value', foreground: 'C3E88D' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#263238',\r\n    'editor.foreground': '#EEFFFF',\r\n    'editor.lineHighlightBackground': '#00000050',\r\n    'editor.selectionBackground': '#80CBC420',\r\n    'editorCursor.foreground': '#FFCC00',\r\n    'editorWhitespace.foreground': '#37474F',\r\n    'editorIndentGuide.background': '#37474F',\r\n    'editorIndentGuide.activeBackground': '#546E7A',\r\n  }\r\n}\r\n\r\n/**\r\n * Tokyo Night 主题\r\n */\r\nexport const TokyoNightTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '565F89' },\r\n    { token: 'string', foreground: '9ECE6A' },\r\n    { token: 'keyword', foreground: 'BB9AF7' },\r\n    { token: 'number', foreground: 'FF9E64' },\r\n    { token: 'type', foreground: '2AC3DE' },\r\n    { token: 'class', foreground: 'FF9E64' },\r\n    { token: 'function', foreground: '7AA2F7' },\r\n    { token: 'variable', foreground: 'C0CAF5' },\r\n    { token: 'variable.predefined', foreground: 'F7768E' },\r\n    { token: 'constant', foreground: 'FF9E64' },\r\n    { token: 'tag', foreground: 'F7768E' },\r\n    { token: 'attribute.name', foreground: '7AA2F7' },\r\n    { token: 'attribute.value', foreground: '9ECE6A' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#1A1B26',\r\n    'editor.foreground': '#A9B1D6',\r\n    'editor.lineHighlightBackground': '#24283B',\r\n    'editor.selectionBackground': '#283457',\r\n    'editorCursor.foreground': '#C0CAF5',\r\n    'editorWhitespace.foreground': '#3B4261',\r\n    'editorIndentGuide.background': '#292E42',\r\n    'editorIndentGuide.activeBackground': '#3B4261',\r\n  }\r\n}\r\n\r\n/**\r\n * Synthwave '84 主题\r\n */\r\nexport const SynthwaveTheme: monaco.editor.IStandaloneThemeData = {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n    { token: 'comment', foreground: '848BBD' },\r\n    { token: 'string', foreground: 'FF8B39' },\r\n    { token: 'keyword', foreground: 'FF00FF' },\r\n    { token: 'number', foreground: 'F97E72' },\r\n    { token: 'type', foreground: 'FE4450' },\r\n    { token: 'class', foreground: 'FFE700' },\r\n    { token: 'function', foreground: '52E5E7' },\r\n    { token: 'variable', foreground: 'FF7EDB' },\r\n    { token: 'variable.predefined', foreground: '72F1B8' },\r\n    { token: 'constant', foreground: 'FF00FF' },\r\n    { token: 'tag', foreground: '72F1B8' },\r\n    { token: 'attribute.name', foreground: 'FF9F1C' },\r\n    { token: 'attribute.value', foreground: 'FF8B39' },\r\n  ],\r\n  colors: {\r\n    'editor.background': '#262335',\r\n    'editor.foreground': '#FFFFFF',\r\n    'editor.lineHighlightBackground': '#34294F',\r\n    'editor.selectionBackground': '#463465',\r\n    'editorCursor.foreground': '#FF00FF',\r\n    'editorWhitespace.foreground': '#34294F',\r\n    'editorIndentGuide.background': '#34294F',\r\n    'editorIndentGuide.activeBackground': '#463465',\r\n  }\r\n}\r\n\r\n/**\r\n * 主题管理器类\r\n */\r\nexport class ThemeManager {\r\n  private static instance: ThemeManager\r\n  private registeredThemes: Set<string> = new Set()\r\n  private customThemes: Map<string, monaco.editor.IStandaloneThemeData> = new Map()\r\n\r\n  private constructor() {\r\n    this.registerPredefinedThemes()\r\n  }\r\n\r\n  static getInstance(): ThemeManager {\r\n    if (!ThemeManager.instance) {\r\n      ThemeManager.instance = new ThemeManager()\r\n    }\r\n    return ThemeManager.instance\r\n  }\r\n\r\n  /**\r\n   * 注册预定义主题\r\n   */\r\n  private registerPredefinedThemes(): void {\r\n    // 注册自定义主题\r\n    this.registerTheme('github-light', GitHubLightTheme)\r\n    this.registerTheme('github-dark', GitHubDarkTheme)\r\n    this.registerTheme('monokai', MonokaiTheme)\r\n    this.registerTheme('dracula', DraculaTheme)\r\n    this.registerTheme('one-dark', OneDarkTheme)\r\n    this.registerTheme('nord', NordTheme)\r\n    this.registerTheme('material', MaterialTheme)\r\n    this.registerTheme('tokyo-night', TokyoNightTheme)\r\n    this.registerTheme('synthwave', SynthwaveTheme)\r\n    \r\n    // 可以添加更多主题变体\r\n    this.registerTheme('material-darker', this.createMaterialVariant('darker'))\r\n    this.registerTheme('material-palenight', this.createMaterialVariant('palenight'))\r\n    this.registerTheme('one-light', this.createOneLightTheme())\r\n    this.registerTheme('solarized-light', this.createSolarizedLightTheme())\r\n    this.registerTheme('solarized-dark', this.createSolarizedDarkTheme())\r\n    this.registerTheme('ayu-light', this.createAyuLightTheme())\r\n    this.registerTheme('ayu-dark', this.createAyuDarkTheme())\r\n  }\r\n\r\n  /**\r\n   * 注册主题\r\n   */\r\n  registerTheme(name: string, theme: monaco.editor.IStandaloneThemeData): void {\r\n    if (!this.registeredThemes.has(name)) {\r\n      monaco.editor.defineTheme(name, theme)\r\n      this.registeredThemes.add(name)\r\n      this.customThemes.set(name, theme)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取主题列表\r\n   */\r\n  getAvailableThemes(): string[] {\r\n    return [\r\n      'vs',\r\n      'vs-dark',\r\n      'hc-black',\r\n      'hc-light',\r\n      ...Array.from(this.registeredThemes)\r\n    ]\r\n  }\r\n\r\n  /**\r\n   * 获取主题显示名称\r\n   */\r\n  getThemeDisplayName(theme: string): string {\r\n    return PREDEFINED_THEMES[theme as keyof typeof PREDEFINED_THEMES] || theme\r\n  }\r\n\r\n  /**\r\n   * 应用主题\r\n   */\r\n  applyTheme(themeName: string): void {\r\n    monaco.editor.setTheme(themeName)\r\n  }\r\n\r\n  /**\r\n   * 创建自定义主题\r\n   */\r\n  createCustomTheme(\r\n    name: string,\r\n    config: Partial<monaco.editor.IStandaloneThemeData>\r\n  ): void {\r\n    const baseTheme = config.base || 'vs-dark'\r\n    const theme: monaco.editor.IStandaloneThemeData = {\r\n      base: baseTheme,\r\n      inherit: config.inherit ?? true,\r\n      rules: config.rules || [],\r\n      colors: config.colors || {}\r\n    }\r\n    this.registerTheme(name, theme)\r\n  }\r\n\r\n  /**\r\n   * 从 JSON 导入主题\r\n   */\r\n  importThemeFromJSON(name: string, json: string): void {\r\n    try {\r\n      const themeData = JSON.parse(json)\r\n      this.createCustomTheme(name, themeData)\r\n    } catch (error) {\r\n      console.error('Failed to import theme:', error)\r\n      throw new Error('Invalid theme JSON format')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 导出主题为 JSON\r\n   */\r\n  exportThemeToJSON(name: string): string | null {\r\n    const theme = this.customThemes.get(name)\r\n    if (theme) {\r\n      return JSON.stringify(theme, null, 2)\r\n    }\r\n    return null\r\n  }\r\n\r\n  // 以下是主题变体创建方法\r\n\r\n  private createMaterialVariant(variant: 'darker' | 'palenight'): monaco.editor.IStandaloneThemeData {\r\n    const base = MaterialTheme\r\n    const colors = { ...base.colors }\r\n    \r\n    if (variant === 'darker') {\r\n      colors['editor.background'] = '#212121'\r\n      colors['editor.lineHighlightBackground'] = '#00000060'\r\n    } else if (variant === 'palenight') {\r\n      colors['editor.background'] = '#292D3E'\r\n      colors['editor.foreground'] = '#A6ACCD'\r\n    }\r\n    \r\n    return {\r\n      ...base,\r\n      colors\r\n    }\r\n  }\r\n\r\n  private createOneLightTheme(): monaco.editor.IStandaloneThemeData {\r\n    return {\r\n      base: 'vs',\r\n      inherit: true,\r\n      rules: [\r\n        { token: 'comment', foreground: 'A0A1A7' },\r\n        { token: 'string', foreground: '50A14F' },\r\n        { token: 'keyword', foreground: 'A626A4' },\r\n        { token: 'number', foreground: '986801' },\r\n        { token: 'type', foreground: 'E45649' },\r\n        { token: 'class', foreground: 'C18401' },\r\n        { token: 'function', foreground: '4078F2' },\r\n        { token: 'variable', foreground: 'E45649' },\r\n      ],\r\n      colors: {\r\n        'editor.background': '#FAFAFA',\r\n        'editor.foreground': '#383A42',\r\n        'editor.lineHighlightBackground': '#F2F2F2',\r\n        'editor.selectionBackground': '#E5E5E6',\r\n      }\r\n    }\r\n  }\r\n\r\n  private createSolarizedLightTheme(): monaco.editor.IStandaloneThemeData {\r\n    return {\r\n      base: 'vs',\r\n      inherit: true,\r\n      rules: [\r\n        { token: 'comment', foreground: '93A1A1' },\r\n        { token: 'string', foreground: '2AA198' },\r\n        { token: 'keyword', foreground: '859900' },\r\n        { token: 'number', foreground: 'D33682' },\r\n        { token: 'type', foreground: 'B58900' },\r\n        { token: 'class', foreground: 'B58900' },\r\n        { token: 'function', foreground: '268BD2' },\r\n        { token: 'variable', foreground: '657B83' },\r\n      ],\r\n      colors: {\r\n        'editor.background': '#FDF6E3',\r\n        'editor.foreground': '#657B83',\r\n        'editor.lineHighlightBackground': '#EEE8D5',\r\n        'editor.selectionBackground': '#EEE8D5',\r\n      }\r\n    }\r\n  }\r\n\r\n  private createSolarizedDarkTheme(): monaco.editor.IStandaloneThemeData {\r\n    return {\r\n      base: 'vs-dark',\r\n      inherit: true,\r\n      rules: [\r\n        { token: 'comment', foreground: '586E75' },\r\n        { token: 'string', foreground: '2AA198' },\r\n        { token: 'keyword', foreground: '859900' },\r\n        { token: 'number', foreground: 'D33682' },\r\n        { token: 'type', foreground: 'B58900' },\r\n        { token: 'class', foreground: 'B58900' },\r\n        { token: 'function', foreground: '268BD2' },\r\n        { token: 'variable', foreground: '93A1A1' },\r\n      ],\r\n      colors: {\r\n        'editor.background': '#002B36',\r\n        'editor.foreground': '#839496',\r\n        'editor.lineHighlightBackground': '#073642',\r\n        'editor.selectionBackground': '#073642',\r\n      }\r\n    }\r\n  }\r\n\r\n  private createAyuLightTheme(): monaco.editor.IStandaloneThemeData {\r\n    return {\r\n      base: 'vs',\r\n      inherit: true,\r\n      rules: [\r\n        { token: 'comment', foreground: '787B80' },\r\n        { token: 'string', foreground: '86B300' },\r\n        { token: 'keyword', foreground: 'FA8D3E' },\r\n        { token: 'number', foreground: 'FF9940' },\r\n        { token: 'type', foreground: '399EE6' },\r\n        { token: 'class', foreground: 'E6B450' },\r\n        { token: 'function', foreground: 'F2AE49' },\r\n        { token: 'variable', foreground: '575F66' },\r\n      ],\r\n      colors: {\r\n        'editor.background': '#FCFCFC',\r\n        'editor.foreground': '#5C6166',\r\n        'editor.lineHighlightBackground': '#F7F7F7',\r\n        'editor.selectionBackground': '#E0E0E0',\r\n      }\r\n    }\r\n  }\r\n\r\n  private createAyuDarkTheme(): monaco.editor.IStandaloneThemeData {\r\n    return {\r\n      base: 'vs-dark',\r\n      inherit: true,\r\n      rules: [\r\n        { token: 'comment', foreground: '5C6773' },\r\n        { token: 'string', foreground: 'AAD94C' },\r\n        { token: 'keyword', foreground: 'FF8F40' },\r\n        { token: 'number', foreground: 'E6B450' },\r\n        { token: 'type', foreground: '59C2FF' },\r\n        { token: 'class', foreground: 'FFB454' },\r\n        { token: 'function', foreground: 'FFD580' },\r\n        { token: 'variable', foreground: 'CBCCC6' },\r\n      ],\r\n      colors: {\r\n        'editor.background': '#0B0E14',\r\n        'editor.foreground': '#BFBDB6',\r\n        'editor.lineHighlightBackground': '#131721',\r\n        'editor.selectionBackground': '#273747',\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取主题配色方案\r\n   */\r\n  getThemeColorScheme(themeName: string): 'light' | 'dark' {\r\n    const lightThemes = ['vs', 'vs-light', 'github-light', 'one-light', 'solarized-light', 'ayu-light']\r\n    return lightThemes.includes(themeName) ? 'light' : 'dark'\r\n  }\r\n\r\n  /**\r\n   * 根据系统主题自动切换\r\n   */\r\n  applySystemTheme(): string {\r\n    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\r\n    const theme = prefersDark ? 'one-dark' : 'github-light'\r\n    this.applyTheme(theme)\r\n    return theme\r\n  }\r\n\r\n  /**\r\n   * 监听系统主题变化\r\n   */\r\n  watchSystemTheme(callback: (theme: string) => void): () => void {\r\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\r\n    const handler = (e: MediaQueryListEvent) => {\r\n      const theme = e.matches ? 'one-dark' : 'github-light'\r\n      this.applyTheme(theme)\r\n      callback(theme)\r\n    }\r\n    \r\n    mediaQuery.addEventListener('change', handler)\r\n    \r\n    // 返回清理函数\r\n    return () => {\r\n      mediaQuery.removeEventListener('change', handler)\r\n    }\r\n  }\r\n}\r\n\r\n// 导出单例实例\r\nexport const themeManager = ThemeManager.getInstance()"],"names":["PREDEFINED_THEMES","vs","monokai","dracula","nord","material","synthwave","GitHubLightTheme","base","inherit","rules","token","foreground","colors","GitHubDarkTheme","MonokaiTheme","fontStyle","DraculaTheme","OneDarkTheme","NordTheme","MaterialTheme","TokyoNightTheme","SynthwaveTheme","_ThemeManager","constructor","__publicField","this","Set","Map","registerPredefinedThemes","getInstance","instance","registerTheme","createMaterialVariant","createOneLightTheme","createSolarizedLightTheme","createSolarizedDarkTheme","createAyuLightTheme","createAyuDarkTheme","name","theme","registeredThemes","has","monaco","editor","defineTheme","add","customThemes","set","getAvailableThemes","Array","from","getThemeDisplayName","applyTheme","themeName","setTheme","createCustomTheme","config","importThemeFromJSON","json","themeData","JSON","parse","error","Error","exportThemeToJSON","get","stringify","variant","getThemeColorScheme","includes","applySystemTheme","window","matchMedia","matches","watchSystemTheme","callback","mediaQuery","handler","e","addEventListener","removeEventListener","ThemeManager","themeManager"],"mappings":"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"}