import*as e from"monaco-editor";import{SnippetLibrary as i}from"./SnippetLibrary.js";var t=Object.defineProperty,r=(e,i,r)=>(((e,i,r)=>{i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r})(e,"symbol"!=typeof i?i+"":i,r),r);class s{constructor(){r(this,"library",new i),r(this,"disposables",[])}registerSnippets(i,t){t.forEach(e=>{this.library.addSnippet({...e,language:i})});const r=e.languages.registerCompletionItemProvider(i,{provideCompletionItems:(t,r)=>{const s=t.getWordUntilPosition(r),n={startLineNumber:r.lineNumber,endLineNumber:r.lineNumber,startColumn:s.startColumn,endColumn:s.endColumn};return{suggestions:this.library.getSnippetsByLanguage(i).map(i=>({label:i.prefix,kind:e.languages.CompletionItemKind.Snippet,insertText:Array.isArray(i.body)?i.body.join("\n"):i.body,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:i.description||i.name,range:n}))}}});this.disposables.push(r)}getLibrary(){return this.library}dispose(){this.disposables.forEach(e=>e.dispose()),this.disposables=[]}}export{s as SnippetManager};
//# sourceMappingURL=SnippetManager.js.map
