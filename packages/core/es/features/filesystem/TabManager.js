var t=Object.defineProperty,a=(a,i,s)=>(((a,i,s)=>{i in a?t(a,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[i]=s})(a,"symbol"!=typeof i?i+"":i,s),s);class i{constructor(){a(this,"tabs",[]),a(this,"activeTabId",null),a(this,"callbacks",new Set)}openTab(t,a){const i=this.tabs.find(a=>a.file.path===t.path);if(i)return this.setActiveTab(i.id),i;const s={id:this.generateId(),file:t,active:!0,dirty:!1,content:a};return this.tabs.forEach(t=>t.active=!1),this.tabs.push(s),this.activeTabId=s.id,this.notifyChange(),s}closeTab(t){const a=this.tabs.findIndex(a=>a.id===t);-1!==a&&(this.tabs.splice(a,1),this.activeTabId===t&&this.tabs.length>0&&this.setActiveTab(this.tabs[Math.max(0,a-1)].id),this.notifyChange())}setActiveTab(t){this.tabs.forEach(a=>a.active=a.id===t),this.activeTabId=t,this.notifyChange()}getActiveTab(){return this.tabs.find(t=>t.active)||null}getAllTabs(){return[...this.tabs]}markDirty(t,a=!0){const i=this.tabs.find(a=>a.id===t);i&&(i.dirty=a,this.notifyChange())}onChange(t){return this.callbacks.add(t),()=>this.callbacks.delete(t)}notifyChange(){this.callbacks.forEach(t=>t(this.tabs))}generateId(){return`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}export{i as TabManager};
//# sourceMappingURL=TabManager.js.map
