var e=Object.defineProperty,r=(r,t,s)=>(((r,t,s)=>{t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s})(r,"symbol"!=typeof t?t+"":t,s),s);class t{constructor(){r(this,"services",new Map),r(this,"scopedInstances",new Map)}register(e,r,t="singleton"){this.services.set(e,{token:e,factory:r,lifetime:t})}registerSingleton(e,r){this.register(e,r,"singleton")}registerTransient(e,r){this.register(e,r,"transient")}registerScoped(e,r){this.register(e,r,"scoped")}resolve(e){const r=this.services.get(e);if(!r)throw new Error(`Service not found: ${String(e)}`);switch(r.lifetime){case"singleton":return r.instance||(r.instance=r.factory(this)),r.instance;case"scoped":return this.scopedInstances.has(e)||this.scopedInstances.set(e,r.factory(this)),this.scopedInstances.get(e);case"transient":return r.factory(this);default:throw new Error(`Unknown service lifetime: ${r.lifetime}`)}}tryResolve(e){try{return this.resolve(e)}catch{return null}}has(e){return this.services.has(e)}clearScope(){this.scopedInstances.clear()}createScope(){const e=new t;return this.services.forEach((r,t)=>{e.services.set(t,{...r})}),e}dispose(){this.services.clear(),this.scopedInstances.clear()}}const s=new t,n={EditorCore:Symbol("EditorCore"),PluginManager:Symbol("PluginManager"),ThemeManager:Symbol("ThemeManager"),FeatureManager:Symbol("FeatureManager"),LanguageService:Symbol("LanguageService"),AIService:Symbol("AIService"),CollaborationService:Symbol("CollaborationService"),FileSystemService:Symbol("FileSystemService"),DebugService:Symbol("DebugService"),SnippetManager:Symbol("SnippetManager"),ExtensionLoader:Symbol("ExtensionLoader"),PerformanceMonitor:Symbol("PerformanceMonitor"),MemoryManager:Symbol("MemoryManager"),CacheService:Symbol("CacheService")};export{t as DIContainer,n as ServiceTokens,s as globalContainer};
//# sourceMappingURL=DependencyInjection.js.map
